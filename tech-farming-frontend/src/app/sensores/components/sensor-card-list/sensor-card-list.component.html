<!-- src/app/sensores/components/sensor-card-list/sensor-card-list.component.html -->
<div class="grid gap-[1.618rem] md:hidden">
  <div *ngFor="let c of pagedCards" class="card p-[1.618rem] space-y-[0.618rem]">
    <h2 class="font-bold text-lg">{{ c.sensor.nombre }}</h2>
    <p><strong>Tipo:</strong> {{ c.tipoNombre }}</p>
    <p><strong>Invernadero:</strong> {{ c.invernaderoNombre }}</p>
    <p><strong>Última lectura:</strong> {{ c.lectura.timestamp | date:'short' }}</p>
    <p><strong>Parámetros:</strong> {{ c.lectura.parametros.join(', ') }}</p>
    <p><strong>Valores:</strong> {{ c.lectura.valores.join(', ') }}</p>
    <p>
      <strong>Estado:</strong>
      <span [ngClass]="{
        'badge badge-success': c.sensor.estado === 'Activo',
        'badge badge-warning': c.sensor.estado === 'Advertencia',
        'badge badge-error': c.sensor.estado === 'Crítico' || c.sensor.estado === 'Error'
      }">{{ c.sensor.estado }}</span>
    </p>
    <div class="flex gap-2 mt-2">
      <button class="btn btn-sm btn-outline" (click)="ver(c.sensor)">👁️ Ver</button>
      <button class="btn btn-sm btn-outline" (click)="editar(c.sensor)">✏️ Editar</button>
      <button class="btn btn-sm btn-error text-white" (click)="eliminar(c.sensor)">🗑️ Eliminar</button>
    </div>
  </div>

  <!-- controles de paginación -->
  <div class="flex justify-center gap-2 py-4">
    <button class="btn btn-sm btn-outline" (click)="setPage(1)" [disabled]="page === 1">«</button>
    <button class="btn btn-sm btn-outline" (click)="setPage(page - 1)" [disabled]="page === 1">‹</button>

    <ng-container *ngFor="let p of pages">
      <button
        class="btn btn-sm"
        [ngClass]="{ 'btn-active': page === p, 'btn-outline': page !== p }"
        (click)="setPage(p)"
      >{{ p }}</button>
    </ng-container>

    <button class="btn btn-sm btn-outline" (click)="setPage(page + 1)" [disabled]="page === totalPages">›</button>
    <button class="btn btn-sm btn-outline" (click)="setPage(totalPages)" [disabled]="page === totalPages">»</button>
  </div>
</div>
