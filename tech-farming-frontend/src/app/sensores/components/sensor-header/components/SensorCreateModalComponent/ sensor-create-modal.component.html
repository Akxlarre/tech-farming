<div class="max-w-6xl w-full bg-white rounded-2xl shadow-xl grid grid-cols-1 md:grid-cols-[1.5fr_1fr] overflow-hidden animate-fadeInZoom">

    <!-- Lado Izquierdo: Formulario -->
    <div class="p-8 space-y-5">
      <h2 class="text-[1.625rem] font-bold text-green-700 flex items-center gap-2">
        ‚ûï Crear nuevo sensor
      </h2>
  
      <form [formGroup]="formulario" (ngSubmit)="guardar()" class="grid grid-cols-1 sm:grid-cols-2 gap-5">
        <div>
          <label class="label">Nombre del sensor</label>
          <input type="text" formControlName="nombre" class="input input-bordered w-full" />
        </div>
  
        <div>
          <label class="label">Fecha de instalaci√≥n</label>
          <input type="date" formControlName="fecha_instalacion" class="input input-bordered w-full" />
        </div>
  
        <div>
          <label class="label">Invernadero</label>
          <select formControlName="invernadero" class="select select-bordered w-full">
            <option value="" disabled selected>Selecciona uno</option>
            <option *ngFor="let i of invernaderos" [value]="i">{{ i }}</option>
          </select>
        </div>
  
        <div>
          <label class="label">Zona</label>
          <select formControlName="zona" class="select select-bordered w-full">
            <option value="" disabled selected>Selecciona una zona</option>
            <option *ngFor="let z of zonas" [value]="z">{{ z }}</option>
          </select>
        </div>
  
        <div class="sm:col-span-2">
          <label class="label">Descripci√≥n</label>
          <textarea formControlName="descripcion" class="textarea textarea-bordered w-full" rows="3"></textarea>
        </div>
  
        <div>
          <label class="label">Posici√≥n X</label>
          <input type="number" formControlName="pos_x" class="input input-bordered w-full" />
        </div>
  
        <div>
          <label class="label">Posici√≥n Y</label>
          <input type="number" formControlName="pos_y" class="input input-bordered w-full" />
        </div>
  
        <div class="flex items-center gap-3">
          <label class="label">Estado</label>
          <input type="checkbox" formControlName="estado" class="toggle toggle-success" />
        </div>
  
        <div class="sm:col-span-2">
          <label class="label">Par√°metros que medir√°</label>
          <div class="flex flex-wrap gap-2">
            <label *ngFor="let param of parametros">
              <input type="checkbox" [value]="param" (change)="toggleParametro(param, $event)" class="hidden peer" />
              <span class="px-3 py-1 rounded-full bg-gray-200 text-sm cursor-pointer peer-checked:bg-violet-600 peer-checked:text-white">
                {{ param }}
              </span>
            </label>
          </div>
        </div>
  
        <!-- Botones -->
        <div class="sm:col-span-2 flex justify-between items-center pt-4">
          <button type="button" class="btn btn-outline" (click)="cerrar()">Cancelar</button>
          <button type="submit" class="btn btn-primary" [disabled]="formulario.invalid">
            üíæ Guardar sensor
          </button>
        </div>
  
        <p class="text-xs italic text-gray-500 sm:col-span-2">
          Despu√©s de guardar, se generar√° un token √∫nico para conectar el sensor.
        </p>
      </form>
    </div>
  
    <!-- Lado Derecho: Instrucciones -->
    <div class="p-8 bg-gray-50 border-l border-slate-200 flex flex-col justify-between space-y-5">
      <div>
        <h3 class="text-lg font-bold flex items-center gap-2 text-gray-800">
          üîå Instrucciones de conexi√≥n
        </h3>
        <p class="text-sm text-gray-600 leading-relaxed mt-2">
          Para que el sensor env√≠e datos correctamente, deber√° conectarse a la API usando el token generado autom√°ticamente.
        </p>
      </div>
  
      <div class="bg-gray-100 p-4 rounded-lg font-mono text-xs text-gray-800 leading-snug overflow-x-auto whitespace-pre">
        {{ '{' }}<br />
        &nbsp;&nbsp;"sensor_id": "abc123",<br />
        &nbsp;&nbsp;"token": "9f0e4adf7b23a",<br />
        &nbsp;&nbsp;"temperatura": 25.4,<br />
        &nbsp;&nbsp;"humedad": 80.2<br />
        {{ '}' }}
      </div>
  
      <p class="text-sm"><strong>Endpoint:</strong>
        <code class="text-blue-700 font-mono">POST /api/sensores/datos</code>
      </p>
  
      <div class="bg-yellow-100 text-yellow-900 text-sm border-l-4 border-yellow-400 p-4 rounded-lg flex gap-3 items-start">
        <span class="text-xl leading-none">‚ö†Ô∏è</span>
        <p>Este token es <strong>sensible</strong> y debe mantenerse privado.</p>
      </div>
    </div>
  </div>