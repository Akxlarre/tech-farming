<section class="vista min-h-screen scroll-smooth px-4 sm:px-10 lg:px-16 space-y-[2.618rem]">
  <!-- Encabezado -->
  <app-sensor-header />

  <!-- ðŸ”Ž DEBUG: Ãšltimas lecturas desde InfluxDB -->
  <div class="bg-white shadow-md rounded-xl p-4 border border-gray-200">
    <h3 class="text-lg font-semibold mb-2 text-gray-700">Ãšltimas lecturas desde InfluxDB</h3>
    <div *ngIf="ultimasLecturas.length > 0; else sinDatos">
      <div *ngFor="let lectura of ultimasLecturas" class="text-sm text-gray-600 mb-3">
        <p><strong>ID:</strong> {{ lectura.sensor_id }}</p>
        <p><strong>Valor:</strong> {{ lectura.valor }}</p>
        <p><strong>Fecha:</strong> {{ lectura.timestamp | date:'short' }}</p>
        <hr class="my-2" />
      </div>
    </div>
    <ng-template #sinDatos>
      <p class="text-gray-500">No hay datos recientes disponibles.</p>
    </ng-template>
  </div>

  <!-- Filtros -->
  <app-sensor-filters />

  <!-- Tabla escritorio -->
  <app-sensor-table [sensores]="sensores" />

  <!-- Tarjetas mÃ³viles -->
  <app-sensor-card-list [sensores]="sensores" />

  <!-- Modales -->
  <ng-container *ngIf="modalType">
    <app-sensor-modal-wrapper>
      <ng-container [ngSwitch]="modalType">
        <app-sensor-edit-modal *ngSwitchCase="'edit'" />
        <app-sensor-delete-modal *ngSwitchCase="'delete'" />
        <app-sensor-view-modal *ngSwitchCase="'view'" />
        <app-sensor-create-modal *ngSwitchCase="'create'" />
      </ng-container>
    </app-sensor-modal-wrapper>
  </ng-container>
</section>
